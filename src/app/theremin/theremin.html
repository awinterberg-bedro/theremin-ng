<div class="controls">
  <!-- Mode switch -->
  <label>
    <input type="radio" name="mode" [(ngModel)]="audioMode" value="web" (change)="onAudioModeChange()">
    WebAudio (Oscillator)
  </label>
  <label>
    <input type="radio" name="mode" [(ngModel)]="audioMode" value="strudel" (change)="onAudioModeChange()">
    Strudel only
  </label>

  <!-- Waveform now calls setWaveform() to only touch osc in web mode -->
  <label>Waveform
    <select [(ngModel)]="waveform" (change)="setWaveform(waveform)">
      <option value="sine">sine</option>
      <option value="sawtooth">sawtooth</option>
      <option value="triangle">triangle</option>
      <option value="square">square</option>
    </select>
  </label>
  <label>Smooth <input [(ngModel)]="smooth" max="0.95" min="0" step="0.01" type="range"></label>
  <label>Gain Max <input [(ngModel)]="gainMax" max="1" min="0.1" step="0.01" type="range"></label>
  <label>Pitch Range (st) <input [(ngModel)]="pitchRange" max="84" min="12" step="1" type="range"></label>
  <button (click)="start()" [disabled]="started">Start</button>
  <button (click)="stop()" [disabled]="!started">Stop</button>
  <button (click)="flip()">Flip Cam</button>
  <span class="stats">Hands: {{ hands }} | Freq: {{ freqDisp }} Hz | MIDI: {{ midiDisp }} | Gain: {{ gainPct }}%</span>
</div>


<div class="stage">
  <video #video muted playsinline></video>
  <canvas #overlay></canvas>
</div>
